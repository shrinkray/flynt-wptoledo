(function(e){const t=function(){return new acf.Model({wait:"ready",initialize:function(){const n=e('[data-layout="blockAnchor"]:not(.acf-clone)');n.length>0&&n.find("input[name*=blockAnchor_anchor]").each(function(a,l){const s=e(l);d(s,s.val())})}})},r=function(n,a){a.closest('[data-layout="blockAnchor"]:not(.acf-clone)').length>0&&d(e(n.currentTarget),a.val())},d=function(n,a){const s=n.closest('[data-layout="blockAnchor"]:not(.acf-clone)').find(".anchorLink-url");if(s){const f=s.data("href");a=o(a);const u=`${f}#${a}`;s.text(u)}},o=function(n){return n=n.replace(/[^A-Za-z0-9]/g,"-").toLowerCase(),n},i=function(n,a){n.preventDefault();const l=a.closest('[data-layout="blockAnchor"]:not(.acf-clone)');if(l.length>0){const s=l.find(".anchorLink-url"),f=l.find(".anchorLink-message");navigator.clipboard?navigator.clipboard.writeText(s.text()).then(function(){f.show().delay(5e3).hide("fast")}).catch(function(){alert("Oops! Something went wrong...")}):document.execCommand("copy")}},c=function(){return new acf.Model({events:{"keyup input[name*=blockAnchor_anchor]":"onChangeText","click [data-copy-anchor-link]":"copyToClipboard"},onChangeText:r,copyToClipboard:i})};typeof acf<"u"&&(t(),c())})(jQuery);document.addEventListener("mouseenter",e=>{const{target:t}=e;if(typeof t=="object"&&t!==null&&"getAttribute"in t&&t.matches("a[data-layout]")){const r=t.dataset.layout;h(r,t)}},!0);document.addEventListener("mouseleave",e=>{const{target:t}=e;typeof t=="object"&&t!==null&&"getAttribute"in t&&t.matches("a[data-layout]")&&m(t)},!0);function h(e,t){const r=y(e),d=`${FlyntData.templateDirectoryUri} / ${FeatureFlexibleContentExtension.components[r]} / screenshot.png`,o=document.createElement("div");o.classList.add("flyntComponentScreenshot-imageWrapper"),t.append(o);const i=document.createElement("img");i.classList.add("flyntComponentScreenshot-previewImageLarge"),i.src=d,o.prepend(i)}function m(e){e.querySelector(".flyntComponentScreenshot-imageWrapper").remove()}function y(e){return e.substr(0,1).toUpperCase()+e.substr(1)}if(window.acf){const e=window.acf.Model.extend({wait:"ready",events:{'click [data-name="add-layout"]':"onClick"},initialize:function(){document.body.addEventListener("click",t=>{t.target.classList.contains("flyntComponentSearch-field")&&t.stopPropagation()},!1)},onClick:function(t,r){document.querySelectorAll(".acf-fc-popup").forEach(o=>{const i=o.classList.contains("top")?"top":"bottom";if(this.render(o,i),o.classList.contains("top")){const c=r[0],n=c.getBoundingClientRect().bottom,a=c.getBoundingClientRect().height,l=window.innerHeight-window.scrollY-n+a+10;o.style.top="auto",o.style.bottom=`${l}px`}})},render:function(t,r){const{placeholder:d,noResults:o}=window.FeatureFlexibleContentExtension.labels;if(t.querySelector(".flyntComponentSearch"))return;t.insertAdjacentHTML(r==="top"?"beforeend":"afterbegin",` < div class = "flyntComponentSearch" >
                < input type = "text" placeholder = "${d}" class = "flyntComponentSearch-field" >
                < div class = "flyntComponentSearch-noResults" hidden > ${o} < / div >
                <  / div > `);const i=t.querySelector(".flyntComponentSearch-field"),c=t.querySelector(".flyntComponentSearch-noResults"),n=t.querySelectorAll("ul li");i.focus(),i.addEventListener("input",a=>{const l=a.target.value.toLowerCase().split(" ").filter(f=>f),s=this.filterComponents(l,n);c.toggleAttribute("hidden",s)})},filterComponents:function(t,r){const d=[];return r.forEach(o=>{const i=o.innerText.toLowerCase(),c=t.every(n=>i.indexOf(n)>-1);o.style.display=c?"block":"none",c&&d.push(c)}),d.length>0}});new e}(function(e){if(typeof acf>"u")return;(function(){acf.addAction("select2_init",function(r,d,o,i){const c=i.$el;(c&&c.data("name")||"")==="reusableComponent"&&r.on("change",{$fieldEl:c},function(){const a=e(this).val(),l=e(this).find("option:selected").text(),s=c.find(".reusable-postLink"),f=s.attr("data-postId"),u=c.find("[hidden]"),p=s.attr("href");u.removeAttr("hidden"),s.text(l),s.attr("data-postId",a),s.attr("href",p.replace(f,a))})})})()})(jQuery);
